# Docker Deployment Environment Variables
# Copy to .env and fill in your values: cp .env.docker.example .env

# =============================================================================
# CRITICAL: Security Settings
# =============================================================================

# SECRET_KEY - MUST be changed in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-this-in-production

# PostgreSQL password - MUST be changed in production!
POSTGRES_PASSWORD=your-secure-postgres-password

# Anthropic API Key - Required for content generation
ANTHROPIC_API_KEY=sk-ant-your-api-key-here

# =============================================================================
# Application Settings
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production

# Debug mode (MUST be false in production)
DEBUG_MODE=false

# CORS origins (comma-separated list of allowed frontend URLs)
# Example: http://localhost:5173,https://dashboard.yourdomain.com
CORS_ORIGINS=http://localhost:5173

# =============================================================================
# Database Settings
# =============================================================================

# PostgreSQL port (default: 5432)
POSTGRES_PORT=5432

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# =============================================================================
# Anthropic API Settings
# =============================================================================

# Model to use for content generation
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Rate limits (70% of your Anthropic tier limits)
# Tier 2 recommended: 2800 req/min, 280000 tokens/min
RATE_LIMIT_REQUESTS_PER_MINUTE=2800
RATE_LIMIT_TOKENS_PER_MINUTE=280000

# =============================================================================
# Content Generation Settings
# =============================================================================

# Enable parallel generation (4x faster)
PARALLEL_GENERATION=true

# Max concurrent API calls (adjust based on rate limits)
MAX_CONCURRENT_API_CALLS=5

# =============================================================================
# Cache Settings
# =============================================================================

# Cache TTLs (in seconds)
CACHE_TTL_SHORT=300      # 5 minutes - frequently changing data
CACHE_TTL_MEDIUM=600     # 10 minutes - moderately stable data
CACHE_TTL_LONG=3600      # 1 hour - rarely changing data

# Cache sizes (number of items)
CACHE_MAX_SIZE_SHORT=1000
CACHE_MAX_SIZE_MEDIUM=1000
CACHE_MAX_SIZE_LONG=1000

# =============================================================================
# Optional: Advanced Settings
# =============================================================================

# Query profiling thresholds (milliseconds)
QUERY_PROFILING_SLOW_THRESHOLD_MS=100
QUERY_PROFILING_VERY_SLOW_THRESHOLD_MS=500

# Health check intervals (seconds)
HEALTH_CHECK_INTERVAL_SECONDS=60
HEALTH_CHECK_TIMEOUT_SECONDS=10

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
